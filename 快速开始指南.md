# 🚀 快速开始指南

> **3分钟完成部署，立即体验 AI 驱动的肿瘤学文章推送服务！**

---

## ⚡ 超快速部署（3步）

### 第 1 步：安装依赖（1分钟）

```bash
cd /data/lsy/arXivPush
pip install -r requirements.txt
```

### 第 2 步：配置邮箱（1分钟）

```bash
# 复制环境变量模板
cp env_template.txt .env

# 编辑配置
nano .env
```

**只需修改 3 个地方**（其他已配置好）：

```ini
SMTP_SENDER_EMAIL=your_email@qq.com        # 改成您的 QQ 邮箱
SMTP_PASSWORD=your_authorization_code      # 填入授权码（见下方）
EMAIL_RECIPIENT=your_email@qq.com          # 收件邮箱（可以相同）
```

> 💡 **如何获取 QQ 邮箱授权码**（30秒）：
> 1. 登录 QQ 邮箱网页版：https://mail.qq.com
> 2. 设置 → 账户 → 生成授权码
> 3. 用手机验证，得到 16 位授权码
> 4. 复制到上面的 `SMTP_PASSWORD`

### 第 3 步：测试运行（1分钟）

```bash
# 立即生成一次报告
python3 biorxiv_bot.py test
```

✅ **搞定！** 您将在邮箱收到第一份研究简报！

---

## 🎮 日常使用

### 启动定时服务

```bash
# 后台运行（推荐）
nohup python3 biorxiv_bot.py > biorxiv_push.log 2>&1 &

# 或使用快速启动脚本
./快速启动.sh
```

系统将在每天 **09:00** 和 **21:00** 自动发送研究简报到您的邮箱。

### 常用命令

```bash
# 查看状态
python3 biorxiv_bot.py status

# 手动运行一次
python3 biorxiv_bot.py run

# 查看日志
tail -f biorxiv_push.log

# 停止服务
ps aux | grep biorxiv_bot
kill [进程ID]
```

---

## ⚙️ 自定义配置（可选）

### 修改报告时间

编辑 `config.yaml`：

```yaml
report_times:
  - '08:00'  # 改成您想要的时间
  - '20:00'
```

### 自定义关键词

编辑 `config.yaml` 的 `queries` 部分：

```yaml
queries:
  - any:
      - breast cancer    # 添加您关注的肿瘤类型
      - lung cancer
      - immunotherapy
```

### 调整文章数量

编辑 `config.yaml`：

```yaml
digest_max_items: 30  # 每次报告最多 30 篇
```

---

## 📧 邮件示例

您将收到格式精美的 HTML 邮件，包含：

```
📬 BioRxiv 肿瘤学研究早报 - 2025-10-17 09:00

📊 BioRxiv 肿瘤学研究简报
========================================

一、研究热点分析
本期共收录 15 篇文章，主要集中在...

二、重点文章解读

1. Novel CAR-T Cell Therapy for Solid Tumors
   作者：Zhang X, Li Y, Wang Z
   研究方向：实体瘤免疫治疗
   核心发现：开发了新型 CAR-T 细胞...
   创新点：首次实现对肿瘤微环境的...
   临床意义：为实体瘤治疗提供新思路...

2. Biomarker Discovery in Lung Cancer
   ...

三、研究趋势洞察
- 热门研究方向：免疫治疗、精准医学
- 新兴技术：单细胞测序、AI 辅助诊断
- 潜在突破：新型肿瘤疫苗

四、文章链接
[直达 BioRxiv 原文链接]
```

---

## 🔧 常见问题速查

### ❌ 邮件发送失败？

```bash
# 检查日志
tail -f biorxiv_push.log | grep -i email

# 常见原因：
# 1. 使用了登录密码而不是授权码 → 重新获取授权码
# 2. 未开启 SMTP 服务 → 在 QQ 邮箱设置中开启
# 3. 端口被防火墙阻止 → sudo ufw allow 587/tcp
```

### ❌ 获取不到文章？

```bash
# 测试 RSS 连接
curl https://connect.biorxiv.org/biorxiv_xml.php?subject=cancer_biology

# 如果连接失败，检查网络
# 如果连接成功但没文章，放宽关键词（编辑 config.yaml）
```

### ❌ API 调用失败？

```bash
# 检查 API 密钥
cat .env | grep SILICONFLOW_API_KEY

# 测试 API
curl -X POST https://api.siliconflow.cn/v1/chat/completions \
  -H "Authorization: Bearer sk-zajrjxgcmrzkfybvzkcaiusavbpmdewuhojllktobprkabym" \
  -H "Content-Type: application/json" \
  -d '{"model":"deepseek-ai/DeepSeek-V3.2-Exp","messages":[{"role":"user","content":"Hello"}]}'
```

---

## 📂 完整文档

- 📘 **[部署指南.md](./部署指南.md)** - 详细部署文档（推荐阅读）
- 📗 **[README_BIORXIV.md](./README_BIORXIV.md)** - 项目说明
- 📙 **[改造说明.md](./改造说明.md)** - 技术改造细节
- 🔧 **[快速启动.sh](./快速启动.sh)** - 一键启动脚本

---

## 🎯 系统架构

```
BioRxiv RSS Feed
    ↓
文章获取 (biorxiv_fetch.py)
    ↓
AI 摘要生成 (DeepSeek V3.2)
    ↓
邮件发送 (email_sender.py)
    ↓
您的邮箱 📧
```

---

## 💡 使用技巧

### 1. 设置开机自启动

```bash
# 使用 systemd（推荐）
sudo nano /etc/systemd/system/biorxiv-push.service

# 详细配置见《部署指南.md》
```

### 2. 实时监控

```bash
# 安装 watch 工具
sudo apt install watch

# 实时查看状态
watch -n 5 "python3 biorxiv_bot.py status"
```

### 3. 多收件人

编辑 `email_sender.py`，修改收件人为列表：

```python
recipient_emails = ["email1@qq.com", "email2@qq.com"]
```

### 4. 定时备份

```bash
# 添加到 crontab
crontab -e

# 每天凌晨 3 点备份数据
0 3 * * * tar -czf /backup/biorxiv_$(date +\%Y\%m\%d).tar.gz /data/lsy/arXivPush
```

---

## 📊 资源占用

| 资源 | 占用 |
|------|------|
| 内存 | < 100MB |
| CPU | < 5% (空闲时) |
| 磁盘 | < 100MB (含日志) |
| 网络 | 按需（API 调用时） |

> 💡 您的 500GB 内存 + 3090 显卡完全够用，本系统几乎不占用资源！

---

## 🎉 部署成功！

恭喜您成功部署 BioRxiv 肿瘤学文章自动阅读系统！

### 接下来您可以：

1. ✅ 每天查收邮件中的研究简报
2. ✅ 根据需要调整关键词和时间
3. ✅ 查看 `部署指南.md` 了解更多功能
4. ✅ 将系统设置为开机自启动

---

## 📞 需要帮助？

1. 📖 查看 **[部署指南.md](./部署指南.md)**（90% 问题都有答案）
2. 📋 查看日志：`tail -f biorxiv_push.log`
3. 🔍 搜索错误信息：`grep -i "error" biorxiv_push.log`

---

**🎓 祝您科研顺利！**

> 本系统使用 DeepSeek V3.2（目前最强的中文开源大模型）自动生成肿瘤学研究摘要，助力您的科研工作！

